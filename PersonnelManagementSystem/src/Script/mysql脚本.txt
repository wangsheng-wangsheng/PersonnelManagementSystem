create database kcsj default character set utf8 collate utf8_general_ci;
use kcsj;
create table education(
id int primary key auto_increment,
name varchar(255) not null
);
create table leader(
id int primary key auto_increment,
name varchar(225) not null,
sex varchar(225) not null,
age varchar(225) not null
);
create table department (
id int auto_increment,
name varchar(255) not null,
address varchar(255) not null,
remarks varchar(255),
leader_id int not null,
primary key(id,leader_id),
foreign key(leader_id) references leader(id)
);
Create table job(
id int auto_increment,
name varchar(255) not null,
remarks varchar(255),
department_id int not null,
primary key(id,department_id),
foreign key(department_id) references department(id)
);
Create table contract(
id int primary key auto_increment,
startTime date not null,
endTime date not null,
signTimes bigint not null,
signStatus varchar(255) not null,
ifWork varchar(4) not null
);
Create table actor(
id int primary key auto_increment,
no varchar(255) not null,
name varchar(255) not null
);
Create table user(
id int primary key auto_increment,
username varchar(255) not null,
password varchar(255),
actor_id int not null,
foreign key(actor_id) references actor(id)
);
create table admin(
id int primary key,
no varchar(255) not null unique,
name varchar(255) not null,
foreign key(id) references actor(id)
);
create table role(
id int primary key auto_increment,
description varchar(255)
);
create table menu(
id int primary key auto_increment,
description varchar(255),
url varchar(255)
);
create table userroleass(
id int primary key auto_increment,
user_id int not null,
role_id int not null,
foreign key(user_id) references user(id),
foreign key(role_id) references role(id)
);
create table rolemenuass(
id int primary key auto_increment,
role_id int not null,
menu_id int not null,
foreign key(role_id) references role(id),
foreign key(menu_id) references menu(id)
);
create table staff(
id int primary key,
no varchar(255) not null unique,
name varchar(255) not null,
sex varchar(8) not null,
nativePlace varchar(255) not null,
phoneNumber varchar(255) not null,
idCard varchar(255) not null,
mail varchar(255) not null,
education_id int not null,
contract_id int not null,
job_id int not null,
foreign key(id) references actor(id),
foreign key(education_id) references education(id) ,
foreign key(contract_id) references contract(id) ,
foreign key(job_id) references job(id)
);
create table evaluate (
id int auto_increment,
assessmentStartDate varchar(255) not null,
assessmentEndDate varchar(255) not null,
professionalSkill varchar(255) not null,
workAttitude varchar(255) not null,
workPerformance varchar(255) not null,
staff_id int not null,
comment varchar(255) not null,
primary key(id,staff_id),
foreign key(staff_id) references staff(id)
);
create table attendance(
id int auto_increment,
attendanceTime date not null,
remarks varchar(225) not null,
staff_id int not null,
primary key (id,staff_id),
foreign key(staff_id) references staff(id)
);
create table salary(
id int auto_increment,
baseSalary bigint not null,
overtimePay bigint not null,
carAllowance  bigint not null,
houseAllowance bigint not null,
pension bigint not null,
medicalInsurance bigint not null,
time varchar(255),
staff_id int not null,
primary key (id,staff_id),
foreign key(staff_id) references staff(id)
);
