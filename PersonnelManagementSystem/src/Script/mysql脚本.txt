create table education(
id int primary key auto_increment,
name varchar(255) not null
);

create table department (
id int primary key auto_increment,
name varchar(255) not null,
staff_id int not null,
address varchar(255) not null,
remarks varchar(255)
);

Create table contract(
id int primary key auto_increment,
startTime date not null,
endTime date not null,
signTimes bigint not null,
signStatus varchar(255) not null,
ifWork char(4) not null,
CHECK(ifWork IN("是"OR"否"))
);

Create table position (
id int primary key auto_increment,
name varchar(255) not null,
remarks varchar(255)
);

create table staff(
id int primary key auto_increment,
staffId bigint not null unique,
name varchar(255) not null,
sex varchar(8) not null,
nativePlace varchar(255) not null,
phoneNumber char(11) not null,
idCard char(18)  not null,
mail varchar(255) not null,
department_id int not null,
education_id int not null,
contranct_id int not null,
position_id int not null,
salary_id int not null, 
foreign key(department_id) references department(id) ,
foreign key(education_id) references education(id) ,
foreign key(contranct_id) references contranct(id) ,
foreign key(position_id) references position (id) 
);

alter table department add foreign key(staff_id) references staff(staffId);

Create table evaluate (
id int auto_increment,
assessmentStartDate date not null,
assessmentEndDate date not null,
professionalSkill varchar(255) not null,
workAttitude varchar(255) not null,
workPerformance varchar(255) not null,
staff_id int not null,
comment varchar(255) not null,
primary key(id,staff_id),
foreign key(staff_id) references staff(staffId)
);

create table attendence(
id int auto_increment,
attendenceTime date not null,
remarks varchar(225) not null,
staff_id int not null,
primary key (id,staff_id),
foreign key(staff_id) references staff(staffId)
);

create table salary(
id int auto_increment,
baseSalary bigint not null,
overtimePay bigint not null,
carAllowance  bigint not null,
houseAllowance bigint not null,
pension bigint not null,
medicalInsurance bigint not null,
time date not null,
staff_id int not null,
primary key (id,staff_id),
foreign key(staff_id) references staff(staffId)
);

create table user(
id int primary key auto_increment,
username int not null,
password int not null,
staff_id int not null,
foreign key(staff_id) references staff(staffId)
);

create table administrator(
id int primary key auto_increment,
name varchar(255) not null,
password int not null
);
